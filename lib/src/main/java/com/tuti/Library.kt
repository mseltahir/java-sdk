/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package com.tuti

import com.tuti.api.TutiApiClient
import com.tuti.api.authentication.SignInRequest
import com.tuti.api.authentication.SignInResponse
import com.tuti.api.data.IsUserRequest

object Library {
    var jwt: String? = null

    @JvmStatic
    fun main(args: Array<String>) {
        val client = TutiApiClient()
        client.SignIn(SignInRequest(mobile = System.getenv("tuti_username"),
                password = System.getenv("tuti_password")),
                onResponse = { signInResponse: SignInResponse ->
                    val token = signInResponse.authorizationJWT
                    client.authToken = token

                    val phones = IsUserRequest(listOf("", ""))

                    client.isUser(phones, onResponse = { isUserResponse ->
                        println(isUserResponse.toString())
                    }, onError = { _, _ -> })


                },
                onError = { tutiResponse, exception -> })
    }
}

